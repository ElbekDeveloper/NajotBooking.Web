@page "/detail/order/{orderId}"


@if (@AllSeats == null || @AllUsers == null)
{
    <p class="text-center">Loading...</p>
}
else
{
    
    <div class="row border p-2" style="max-width: 800px; margin: 0 auto;">
        <h1 class="text-primary text-center">Change Order</h1>
        <hr />
        <EditForm Model="@order" OnValidSubmit="@UpdateOrder">
            
            <DataAnnotationsValidator />
            <ValidationSummary />

            <div class="form-group pb-3">
                <label for="userInput">User</label>
                <InputSelect class="form-select" id="userInput" @bind-Value="@order.UserId">
                    @foreach (var user in @AllUsers)
                    {
                        <option value="@user.Id">@user.FirstName</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(()=>@order.UserId)" />
            </div>

            <div class="form-group pb-3">
                <label for="seatInput">Seat</label>
                <InputSelect class="form-select" id="seatInput" @bind-Value="@order.SeatId">
                    @foreach (var seat in @AllSeats)
                    {
                        <option value="@seat.Id">@seat.Number</option>
                    }
                </InputSelect>
                <ValidationMessage For="@(()=>@order.SeatId)" />
            </div>

            <div class="form-group pb-3">
                <label for="priceInput">Price</label>
                <input @bind="@order.Price" type="number" class="form-control"
                   name="priceInput" id="priceInput" placeholder="Price" />
                <ValidationMessage For="@(()=>@order.Price)" />
            </div>

            <div class="form-group pb-3">
                <label for="StartDate">StartDate</label>
                <input type="datetime-local" id="StartDate" class="form-select" @bind="@order.StartDate"
                   name="StartDate" placeholder="StartDate" />
                <ValidationMessage For="@(()=>order.StartDate)" />
            </div>

            <div class="form-group pb-3">
                <label for="EndDate">EndDate</label>
                <input class="form-select" id="EndDate" type="datetime-local" @bind="@order.EndDate"
                   name="EndDate" placeholder="EndDate" />
                <ValidationMessage For="@(()=>order.EndDate)" />
            </div>

            <input type="submit" class="btn btn-primary" value="Update" name="submit" />
        </EditForm>
    </div>
}
@code {

}
